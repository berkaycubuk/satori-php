<?php

use Choowx\Satori\Satori;

it('can convert to svg', function () {
    $svg = Satori::html('<div style="color: black">hello, world</div>')->convert();

    expect($svg)->toBe(
        '<svg width="1200" height="630" viewBox="0 0 1200 630" xmlns="http://www.w3.org/2000/svg"><path fill="black" d="M2.8 9.8L2.8 9.8L2.8 15.0L1.1 15.0L1.1 3.4L2.8 3.4L2.8 7.7L2.9 7.7Q3.2 7.0 3.9 6.6Q4.5 6.2 5.5 6.2L5.5 6.2Q6.9 6.2 7.7 7.0Q8.5 7.8 8.5 9.4L8.5 9.4L8.5 15.0L6.8 15.0L6.8 9.6Q6.8 8.7 6.3 8.2Q5.8 7.6 4.9 7.6L4.9 7.6Q4.0 7.6 3.4 8.2Q2.8 8.8 2.8 9.8ZM14.5 15.2L14.5 15.2Q13.3 15.2 12.3 14.6Q11.4 14.1 10.9 13.0Q10.4 12.0 10.4 10.7L10.4 10.7Q10.4 9.3 10.9 8.3Q11.4 7.3 12.3 6.7Q13.2 6.2 14.4 6.2L14.4 6.2Q15.4 6.2 16.3 6.6Q17.2 7.0 17.7 8.0Q18.3 9.0 18.3 10.5L18.3 10.5L18.3 11.1L12.1 11.1Q12.1 12.4 12.8 13.1Q13.5 13.8 14.6 13.8L14.6 13.8Q15.3 13.8 15.8 13.5Q16.3 13.1 16.6 12.5L16.6 12.5L18.2 12.8Q17.9 13.9 16.9 14.5Q16.0 15.2 14.5 15.2ZM12.1 9.9L12.1 9.9L16.6 9.9Q16.6 8.9 16.0 8.2Q15.4 7.6 14.4 7.6L14.4 7.6Q13.7 7.6 13.2 7.9Q12.7 8.2 12.4 8.7Q12.1 9.3 12.1 9.9ZM20.2 3.4L21.9 3.4L21.9 15.0L20.2 15.0L20.2 3.4ZM24.2 3.4L25.9 3.4L25.9 15.0L24.2 15.0L24.2 3.4ZM31.8 15.2L31.8 15.2Q30.6 15.2 29.7 14.6Q28.8 14.0 28.3 13.0Q27.7 12.0 27.7 10.7L27.7 10.7Q27.7 9.3 28.3 8.3Q28.8 7.3 29.7 6.7Q30.6 6.2 31.8 6.2L31.8 6.2Q33.0 6.2 34.0 6.7Q34.9 7.3 35.4 8.3Q35.9 9.3 35.9 10.7L35.9 10.7Q35.9 12.0 35.4 13.0Q34.9 14.0 34.0 14.6Q33.0 15.2 31.8 15.2ZM31.8 13.7L31.8 13.7Q32.6 13.7 33.1 13.3Q33.7 12.9 33.9 12.2Q34.2 11.5 34.2 10.7L34.2 10.7Q34.2 9.8 33.9 9.1Q33.7 8.4 33.1 8.0Q32.6 7.6 31.8 7.6L31.8 7.6Q31.0 7.6 30.5 8.0Q30.0 8.4 29.7 9.1Q29.5 9.8 29.5 10.7L29.5 10.7Q29.5 11.5 29.7 12.2Q30.0 12.9 30.5 13.3Q31.0 13.7 31.8 13.7ZM38.3 13.4L40.0 13.4L39.9 14.0Q39.8 14.7 39.6 15.4Q39.4 16.2 39.2 16.8Q39.0 17.5 38.8 17.8L38.8 17.8L37.6 17.8Q37.7 17.5 37.8 16.9Q38.0 16.3 38.1 15.5Q38.2 14.8 38.3 14.0L38.3 14.0L38.3 13.4Z M50.2 15.0L48.5 15.0L45.9 6.3L47.7 6.3L49.4 12.7L49.5 12.7L51.2 6.3L53.0 6.3L54.7 12.6L54.8 12.6L56.4 6.3L58.2 6.3L55.6 15.0L53.9 15.0L52.1 8.7L52.0 8.7L50.2 15.0ZM63.2 15.2L63.2 15.2Q62.0 15.2 61.1 14.6Q60.2 14.0 59.7 13.0Q59.2 12.0 59.2 10.7L59.2 10.7Q59.2 9.3 59.7 8.3Q60.2 7.3 61.1 6.7Q62.0 6.2 63.2 6.2L63.2 6.2Q64.5 6.2 65.4 6.7Q66.3 7.3 66.8 8.3Q67.3 9.3 67.3 10.7L67.3 10.7Q67.3 12.0 66.8 13.0Q66.3 14.0 65.4 14.6Q64.5 15.2 63.2 15.2ZM63.2 13.7L63.2 13.7Q64.0 13.7 64.5 13.3Q65.1 12.9 65.3 12.2Q65.6 11.5 65.6 10.7L65.6 10.7Q65.6 9.8 65.3 9.1Q65.1 8.4 64.5 8.0Q64.0 7.6 63.2 7.6L63.2 7.6Q62.4 7.6 61.9 8.0Q61.4 8.4 61.1 9.1Q60.9 9.8 60.9 10.7L60.9 10.7Q60.9 11.5 61.1 12.2Q61.4 12.9 61.9 13.3Q62.4 13.7 63.2 13.7ZM70.9 15.0L69.2 15.0L69.2 6.3L70.8 6.3L70.8 7.7L70.9 7.7Q71.2 7.0 71.8 6.5Q72.4 6.1 73.1 6.1L73.1 6.1Q73.3 6.1 73.5 6.1Q73.7 6.2 73.9 6.2L73.9 6.2L73.9 7.8Q73.8 7.8 73.5 7.7Q73.2 7.7 73.0 7.7L73.0 7.7Q72.1 7.7 71.5 8.3Q70.9 8.8 70.9 9.7L70.9 9.7L70.9 15.0ZM75.3 3.4L77.0 3.4L77.0 15.0L75.3 15.0L75.3 3.4ZM82.6 15.2L82.6 15.2Q81.5 15.2 80.7 14.6Q79.9 14.1 79.4 13.1Q78.9 12.1 78.9 10.6L78.9 10.6Q78.9 9.2 79.4 8.2Q79.9 7.2 80.7 6.7Q81.5 6.2 82.6 6.2L82.6 6.2Q83.4 6.2 83.9 6.4Q84.4 6.7 84.7 7.1Q84.9 7.4 85.1 7.7L85.1 7.7L85.2 7.7L85.2 3.4L86.9 3.4L86.9 15.0L85.2 15.0L85.2 13.6L85.1 13.6Q84.9 13.9 84.7 14.3Q84.4 14.6 83.9 14.9Q83.4 15.2 82.6 15.2ZM83.0 13.7L83.0 13.7Q84.1 13.7 84.6 12.9Q85.2 12.0 85.2 10.6L85.2 10.6Q85.2 9.3 84.7 8.4Q84.1 7.6 83.0 7.6L83.0 7.6Q82.2 7.6 81.7 8.0Q81.2 8.4 80.9 9.1Q80.6 9.8 80.6 10.6L80.6 10.6Q80.6 11.5 80.9 12.2Q81.2 12.9 81.7 13.3Q82.2 13.7 83.0 13.7Z "/></svg>'
    );
});

it('can convert to svg in specified width', function () {
    $svg = Satori::html('<div style="color: black">hello, world</div>')
        ->width(600)
        ->convert();

    expect($svg)->toContain('width="600"');
});

it('can convert to svg in specified height', function () {
    $svg = Satori::html('<div style="color: black">hello, world</div>')
        ->height(500)
        ->convert();

    expect($svg)->toContain('height="500"');
});
